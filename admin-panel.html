{% extends "base.html" %}

{% block title %}Admin Panel - St. Joseph's University{% endblock %}

{% block header_class %}header-with-back{% endblock %}

{% block back_button %}
    <button class="back-button" onclick="goBack()" title="Go Back to Home">
        ‚ùÆ
    </button>
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin-panel.css') }}">
{% endblock %}

{% block main_class %}admin-page-content{% endblock %}

{% block main_content %}
    <div class="admin-container">
        <div class="admin-header">
            <h2>Admin Panel</h2>
            <button class="logout-btn" onclick="adminLogout()">Logout</button>
        </div>

        <div class="admin-tabs">
            <button class="tab-btn active" onclick="switchTab('bookings')">
                üìÖ Venue Bookings
            </button>
            <button class="tab-btn" onclick="switchTab('feedback')">
                üí¨ User Feedback
            </button>
        </div>

        <!-- Bookings Tab -->
        <div id="bookings-tab" class="tab-content active">
            <div class="section-header">
                <h3>Manage Venue Bookings</h3>
                <div class="filters">
                    <input type="text" id="searchBooking" placeholder="Search by event name...">
                    <select id="filterLocation">
                        <option value="">All Locations</option>
                        <option value="Seminar 1">Seminar Hall 1</option>
                        <option value="Seminar 2">Seminar Hall 2</option>
                        <option value="Seminar 3">Seminar Hall 3</option>
                        <option value="Auditorium">Main Auditorium</option>
                    </select>
                </div>
            </div>
            <div id="bookingsTableContainer"></div>
        </div>

        <!-- Feedback Tab -->
        <div id="feedback-tab" class="tab-content">
            <div class="section-header">
                <h3>User Feedback</h3>
            </div>
            <div id="feedbackContainer"></div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>Confirm Delete</h3>
            <p>Are you sure you want to delete this booking? This action cannot be undone.</p>
            <div class="modal-actions">
                <button class="cancel-btn" onclick="closeDeleteModal()">Cancel</button>
                <button class="delete-btn" onclick="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="{{ url_for('static', filename='js/admin-panel.js') }}"></script>
{% endblock %}